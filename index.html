<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Continuous Canvas Movement</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        background-color: brown; /* Set background color to brown */
    }
    canvas {
        display: block;
        border: 2px solid black; /* Add a black border around the canvas */
    }
</style>
</head>
<body>
<canvas id="myCanvas" width="800" height="600"></canvas>
<script>
    const canvas = document.getElementById('myCanvas');
    const ctx = canvas.getContext('2d');

    let x = canvas.width / 2;
    let y = canvas.height / 2;
    const squareSize = 50;
    const borderThickness = 2;

    let dx = 0;
    let dy = 0;
    let keyDown = false;

    function drawSquare() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#FF0000';
        ctx.fillRect(x - squareSize / 2, y - squareSize / 2, squareSize, squareSize);
    }

    function moveSquare() {
        const newX = x + dx;
        const newY = y + dy;

        // Check if the new position is within the canvas boundaries
        if (newX - squareSize / 2 >= borderThickness && newX + squareSize / 2 <= canvas.width - borderThickness &&
            newY - squareSize / 2 >= borderThickness && newY + squareSize / 2 <= canvas.height - borderThickness) {
            x = newX;
            y = newY;
        }

        drawSquare();
    }

    function startMovement() {
        if (!keyDown) {
            keyDown = true;
            moveSquare();
            requestAnimationFrame(continuousMovement);
        }
    }

    function stopMovement() {
        keyDown = false;
    }

    function continuousMovement() {
        if (keyDown) {
            moveSquare();
            requestAnimationFrame(continuousMovement);
        }
    }

    document.addEventListener('keydown', function(event) {
        switch(event.key) {
            case 'ArrowUp':
                dy = -10;
                break;
            case 'ArrowDown':
                dy = 10;
                break;
            case 'ArrowLeft':
                dx = -10;
                break;
            case 'ArrowRight':
                dx = 10;
                break;
        }
        startMovement();
    });

    document.addEventListener('keyup', function(event) {
        switch(event.key) {
            case 'ArrowUp':
            case 'ArrowDown':
                dy = 0;
                break;
            case 'ArrowLeft':
            case 'ArrowRight':
                dx = 0;
                break;
        }
        if (dx === 0 && dy === 0) {
            stopMovement();
        }
    });
    
    drawSquare(); // Initial drawing
</script>
</body>
</html>
